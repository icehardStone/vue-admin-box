import{T as k,g as $,d as F}from"./table.c1136bd1.js";import{_ as S,d as R,R as B,T as E,D as T,h as V,u as I,i as w,j as y,P as L,S as q,A as z,r as l,B as P,o as A,c as j,a as b,b as e,w as t,e as h,C as G,m as U,t as M,E as H}from"./index.8250fede.js";const J=R({name:"crudTable",components:{Table:k,RefreshLeft:B,Tools:E,Download:T},setup(){V();const a=I(),n=w({input:""}),s=w({index:1,size:20,total:0}),g=y(!0),d=y([]),_=y([]),u=r=>{_.value=r},c=r=>{g.value=!0,r&&(s.index=1);let m={page:s.index,pageSize:s.size,...n};$(m).then(o=>{let f=o.data.list;Array.isArray(f)&&f.forEach(C=>{}),d.value=o.data.list,s.total=Number(o.data.pager.total)}).catch(o=>{d.value=[],s.index=1,s.total=0}).finally(()=>{g.value=!1})},D=r=>{let m={ids:r.map(o=>o.id).join(",")};F(m).then(o=>{H({type:"success",message:"\u5220\u9664\u6210\u529F"}),c(d.value.length===1)})},v=()=>{a.push({name:"checkInAdd"})},p=r=>{};return c(!0),{Plus:L,Search:q,Delete:z,RefreshLeft:B,Download:T,Tools:E,query:n,tableData:d,chooseData:_,loading:g,page:s,handleSelectionChange:u,handleAdd:v,handleEdit:p,handleDel:D,getTableData:c}}}),K={class:"layout-container"},O={class:"layout-container-form flex space-between"},Q={class:"layout-container-form-handle"},W={class:"layout-container-form-search flex center"},X={class:"layout-container-table"};function Y(a,n,s,g,d,_){const u=l("el-button"),c=l("el-popconfirm"),D=l("el-input"),v=l("RefreshLeft"),p=l("el-icon"),r=l("Tools"),m=l("Download"),o=l("el-table-column"),f=l("Table"),C=P("loading");return A(),j("div",K,[b("div",O,[b("div",Q,[e(u,{type:"primary",icon:a.Plus,onClick:a.handleAdd},{default:t(()=>[...n[4]||(n[4]=[h("\u65B0\u589E\u5165\u4F4F",-1)])]),_:1},8,["icon","onClick"]),e(c,{title:a.$t("message.common.delTip"),onConfirm:n[0]||(n[0]=i=>a.handleDel(a.chooseData))},{reference:t(()=>[e(u,{type:"danger",icon:a.Delete,disabled:a.chooseData.length===0},{default:t(()=>[...n[5]||(n[5]=[h("\u4F5C\u5E9F",-1)])]),_:1},8,["icon","disabled"])]),_:1},8,["title"])]),b("div",W,[e(D,{modelValue:a.query.input,"onUpdate:modelValue":n[1]||(n[1]=i=>a.query.input=i),placeholder:a.$t("message.common.searchTip"),onChange:n[2]||(n[2]=i=>a.getTableData(!0))},null,8,["modelValue","placeholder"]),e(p,{class:"layout-container-form-icon"},{default:t(()=>[e(v)]),_:1}),e(p,{class:"layout-container-form-icon"},{default:t(()=>[e(r)]),_:1}),e(p,{class:"layout-container-form-icon"},{default:t(()=>[e(m)]),_:1})])]),b("div",X,[G((A(),U(f,{ref:"table",page:a.page,"onUpdate:page":n[3]||(n[3]=i=>a.page=i),showIndex:!0,showSelection:!0,data:a.tableData,onGetTableData:a.getTableData,onSelectionChange:a.handleSelectionChange},{default:t(()=>[e(o,{prop:"name",label:"\u6863\u6848\u53F7",align:"center"}),e(o,{prop:"name",label:"\u59D3\u540D",align:"center"}),e(o,{prop:"radioName",label:"\u5E8A\u4F4D\u53F7",align:"center"}),e(o,{prop:"radioName",label:"\u72B6\u6001",align:"center"}),e(o,{prop:"radioName",label:"\u6807\u7B7E",align:"center"}),e(o,{prop:"radioName",label:"\u624B\u673A\u53F7",align:"center"}),e(o,{prop:"radioName",label:"\u6237\u53E3\u5730\u5740",align:"center"}),e(o,{prop:"radioName",label:"\u7167\u62A4\u7B49\u7EA7",align:"center"}),e(o,{prop:"radioName",label:"\u7B2C\u4E09\u65B9\u8BC4\u4F30",align:"center"}),e(o,{prop:"radioName",label:"\u76D1\u62A4\u4EBA",align:"center"}),e(o,{prop:"radioName",label:"\u76D1\u62A4\u4EBA\u7535\u8BDD",align:"center"}),e(o,{label:a.$t("message.common.handle"),align:"center",fixed:"right",width:"200"},{default:t(i=>[e(u,{onClick:N=>a.handleEdit(i.row)},{default:t(()=>[...n[6]||(n[6]=[h("\u67E5\u770B",-1)])]),_:1},8,["onClick"]),e(u,{type:"warning",onClick:N=>a.handleEdit(i.row)},{default:t(()=>[h(M(a.$t("message.common.update")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["page","data","onGetTableData","onSelectionChange"])),[[C,a.loading]])])])}var ee=S(J,[["render",Y],["__scopeId","data-v-6cfebf19"]]);export{ee as default};
