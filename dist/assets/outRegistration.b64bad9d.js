import{T as A,g as F,d as R}from"./table.c1136bd1.js";import{_ as $,d as k,R as C,T,D as B,h as S,u as V,i as N,j as D,P as q,S as z,A as L,r as u,B as P,o as w,c as j,a as _,b as e,w as i,e as y,C as G,m as I,t as U,E as M}from"./index.8250fede.js";const H=k({name:"crudTable",components:{Table:A,RefreshLeft:C,Tools:T,Download:B},setup(){S();const a=V(),t=N({input:""}),l=N({index:1,size:20,total:0}),g=D(!0),d=D([]),b=D([]),c=s=>{b.value=s},p=s=>{g.value=!0,s&&(l.index=1);let o={page:l.index,pageSize:l.size,...t};F(o).then(n=>{let f=n.data.list;Array.isArray(f)&&f.forEach(r=>{}),d.value=n.data.list,l.total=Number(n.data.pager.total)}).catch(n=>{d.value=[],l.index=1,l.total=0}).finally(()=>{g.value=!1})},h=s=>{let o={ids:s.map(n=>n.id).join(",")};R(o).then(n=>{M({type:"success",message:"\u5220\u9664\u6210\u529F"}),p(d.value.length===1)})},m=()=>{a.push({name:"outRegistrationAdd"})},v=s=>{a.push({name:"outRegistrationAdd"})};return p(!0),{Plus:q,Search:z,Delete:L,RefreshLeft:C,Download:B,Tools:T,query:t,tableData:d,chooseData:b,loading:g,page:l,handleSelectionChange:c,handleAdd:m,handleEdit:v,handleDel:h,getTableData:p}}}),J={class:"layout-container"},K={class:"layout-container-form flex space-between"},O={class:"layout-container-form-handle"},Q={class:"layout-container-form-search flex center"},W={class:"layout-container-table"};function X(a,t,l,g,d,b){const c=u("el-button"),p=u("el-input"),h=u("RefreshLeft"),m=u("el-icon"),v=u("Tools"),s=u("Download"),o=u("el-table-column"),n=u("Table"),f=P("loading");return w(),j("div",J,[_("div",K,[_("div",O,[e(c,{type:"primary",icon:a.Plus,onClick:a.handleAdd},{default:i(()=>[...t[3]||(t[3]=[y("\u65B0\u589E",-1)])]),_:1},8,["icon","onClick"])]),_("div",Q,[e(p,{modelValue:a.query.input,"onUpdate:modelValue":t[0]||(t[0]=r=>a.query.input=r),placeholder:a.$t("message.common.searchTip"),onChange:t[1]||(t[1]=r=>a.getTableData(!0))},null,8,["modelValue","placeholder"]),e(m,{class:"layout-container-form-icon"},{default:i(()=>[e(h)]),_:1}),e(m,{class:"layout-container-form-icon"},{default:i(()=>[e(v)]),_:1}),e(m,{class:"layout-container-form-icon"},{default:i(()=>[e(s)]),_:1})])]),_("div",W,[G((w(),I(n,{ref:"table",page:a.page,"onUpdate:page":t[2]||(t[2]=r=>a.page=r),showIndex:!0,showSelection:!0,data:a.tableData,onGetTableData:a.getTableData,onSelectionChange:a.handleSelectionChange},{default:i(()=>[e(o,{prop:"name",label:"\u6863\u6848\u53F7",align:"center"}),e(o,{prop:"radioName",label:"\u5E8A\u4F4D\u53F7",align:"center"}),e(o,{prop:"radioName",label:"\u59D3\u540D",align:"center"}),e(o,{prop:"radioName",label:"\u6027\u522B",align:"center"}),e(o,{prop:"radioName",label:"\u624B\u673A\u53F7\u7801",align:"center"}),e(o,{prop:"radioName",label:"\u5916\u51FA\u65F6\u95F4",align:"center"}),e(o,{prop:"radioName",label:"\u79BB\u9662\u5929\u6570",align:"center"}),e(o,{prop:"radioName",label:"\u505C\u8D39\u5929\u6570",align:"center"}),e(o,{prop:"radioName",label:"\u5B9E\u9645\u56DE\u6765\u65F6\u95F4",align:"center"}),e(o,{prop:"radioName",label:"\u5BA1\u6838\u72B6\u6001",align:"center"}),e(o,{prop:"radioName",label:"\u5916\u51FA\u4E8B\u7531",align:"center"}),e(o,{prop:"radioName",label:"\u5907\u6CE8",align:"center"}),e(o,{label:a.$t("message.common.handle"),align:"center",fixed:"right",width:"200"},{default:i(r=>[e(c,{onClick:E=>a.handleEdit(r.row)},{default:i(()=>[...t[4]||(t[4]=[y("\u67E5\u770B",-1)])]),_:1},8,["onClick"]),e(c,{type:"warning",onClick:E=>a.handleEdit(r.row)},{default:i(()=>[y(U(a.$t("message.common.update")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["page","data","onGetTableData","onSelectionChange"])),[[f,a.loading]])])])}var x=$(H,[["render",X],["__scopeId","data-v-6f446ad0"]]);export{x as default};
