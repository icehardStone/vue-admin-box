import{T as A,g as S,d as F}from"./table.c1136bd1.js";import{_ as L,d as N,R as T,T as w,D as E,h as R,u as V,i as $,j as D,P as q,S as z,A as P,r as l,B as j,o as B,c as G,a as h,b as o,w as n,e as _,C as I,m as U,t as M,E as H}from"./index.8250fede.js";const J=N({name:"crudTable",components:{Table:A,RefreshLeft:T,Tools:w,Download:E},setup(){R();const e=V(),a=$({input:""}),s=$({index:1,size:20,total:0}),f=D(!0),u=D([]),v=D([]),d=r=>{v.value=r},c=r=>{f.value=!0,r&&(s.index=1);let m={page:s.index,pageSize:s.size,...a};S(m).then(t=>{let g=t.data.list;Array.isArray(g)&&g.forEach(C=>{}),u.value=t.data.list,s.total=Number(t.data.pager.total)}).catch(t=>{u.value=[],s.index=1,s.total=0}).finally(()=>{f.value=!1})},b=r=>{let m={ids:r.map(t=>t.id).join(",")};F(m).then(t=>{H({type:"success",message:"\u5220\u9664\u6210\u529F"}),c(u.value.length===1)})},y=()=>{e.push({name:"roomLevelAdd"})},p=r=>{e.push({name:"roomLevelAdd"})};return c(!0),{Plus:q,Search:z,Delete:P,RefreshLeft:T,Download:E,Tools:w,query:a,tableData:u,chooseData:v,loading:f,page:s,handleSelectionChange:d,handleAdd:y,handleEdit:p,handleDel:b,getTableData:c}}}),K={class:"layout-container"},O={class:"layout-container-form flex space-between"},Q={class:"layout-container-form-handle"},W={class:"layout-container-form-search flex center"},X={class:"layout-container-table"};function Y(e,a,s,f,u,v){const d=l("el-button"),c=l("el-popconfirm"),b=l("el-input"),y=l("RefreshLeft"),p=l("el-icon"),r=l("Tools"),m=l("Download"),t=l("el-table-column"),g=l("Table"),C=j("loading");return B(),G("div",K,[h("div",O,[h("div",Q,[o(d,{type:"primary",icon:e.Plus,onClick:e.handleAdd},{default:n(()=>[...a[4]||(a[4]=[_("\u65B0\u589E",-1)])]),_:1},8,["icon","onClick"]),o(c,{title:e.$t("message.common.delTip"),onConfirm:a[0]||(a[0]=i=>e.handleDel(e.chooseData))},{reference:n(()=>[o(d,{type:"danger",icon:e.Delete,disabled:e.chooseData.length===0},{default:n(()=>[...a[5]||(a[5]=[_("\u4F5C\u5E9F",-1)])]),_:1},8,["icon","disabled"])]),_:1},8,["title"])]),h("div",W,[o(b,{modelValue:e.query.input,"onUpdate:modelValue":a[1]||(a[1]=i=>e.query.input=i),placeholder:e.$t("message.common.searchTip"),onChange:a[2]||(a[2]=i=>e.getTableData(!0))},null,8,["modelValue","placeholder"]),o(p,{class:"layout-container-form-icon"},{default:n(()=>[o(y)]),_:1}),o(p,{class:"layout-container-form-icon"},{default:n(()=>[o(r)]),_:1}),o(p,{class:"layout-container-form-icon"},{default:n(()=>[o(m)]),_:1})])]),h("div",X,[I((B(),U(g,{ref:"table",page:e.page,"onUpdate:page":a[3]||(a[3]=i=>e.page=i),showIndex:!0,showSelection:!0,data:e.tableData,onGetTableData:e.getTableData,onSelectionChange:e.handleSelectionChange},{default:n(()=>[o(t,{prop:"name",label:"\u623F\u95F4\u7B49\u7EA7",align:"center"}),o(t,{prop:"radioName",label:"\u72B6\u6001",align:"center"}),o(t,{prop:"radioName",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),o(t,{prop:"radioName",label:"\u5907\u6CE8",align:"center"}),o(t,{label:e.$t("message.common.handle"),align:"center",fixed:"right",width:"200"},{default:n(i=>[o(d,{onClick:k=>e.handleEdit(i.row)},{default:n(()=>[...a[6]||(a[6]=[_("\u67E5\u770B",-1)])]),_:1},8,["onClick"]),o(d,{type:"warning",onClick:k=>e.handleEdit(i.row)},{default:n(()=>[_(M(e.$t("message.common.update")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["page","data","onGetTableData","onSelectionChange"])),[[C,e.loading]])])])}var ee=L(J,[["render",Y],["__scopeId","data-v-728b183d"]]);export{ee as default};
