import{T as k,g as S,d as R}from"./table.c1136bd1.js";import{_ as V,d as L,R as T,T as w,D as B,h as F,u as q,i as $,j as y,P as z,S as P,A as j,r as l,B as G,o as A,c as I,a as h,b as a,w as n,e as b,t as E,C as U,m as M,E as H}from"./index.8250fede.js";const J=L({name:"crudTable",components:{Table:k,RefreshLeft:T,Tools:w,Download:B},setup(){F();const e=q(),t=$({input:""}),s=$({index:1,size:20,total:0}),g=y(!0),u=y([]),_=y([]),d=r=>{_.value=r},c=r=>{g.value=!0,r&&(s.index=1);let m={page:s.index,pageSize:s.size,...t};S(m).then(o=>{let f=o.data.list;Array.isArray(f)&&f.forEach(C=>{}),u.value=o.data.list,s.total=Number(o.data.pager.total)}).catch(o=>{u.value=[],s.index=1,s.total=0}).finally(()=>{g.value=!1})},D=r=>{let m={ids:r.map(o=>o.id).join(",")};R(m).then(o=>{H({type:"success",message:"\u5220\u9664\u6210\u529F"}),c(u.value.length===1)})},v=()=>{e.push({name:"recordAdd"})},p=r=>{};return c(!0),{Plus:z,Search:P,Delete:j,RefreshLeft:T,Download:B,Tools:w,query:t,tableData:u,chooseData:_,loading:g,page:s,handleSelectionChange:d,handleAdd:v,handleEdit:p,handleDel:D,getTableData:c}}}),K={class:"layout-container"},O={class:"layout-container-form flex space-between"},Q={class:"layout-container-form-handle"},W={class:"layout-container-form-search flex center"},X={class:"layout-container-table"};function Y(e,t,s,g,u,_){const d=l("el-button"),c=l("el-popconfirm"),D=l("el-input"),v=l("RefreshLeft"),p=l("el-icon"),r=l("Tools"),m=l("Download"),o=l("el-table-column"),f=l("Table"),C=G("loading");return A(),I("div",K,[h("div",O,[h("div",Q,[a(d,{type:"primary",icon:e.Plus,onClick:e.handleAdd},{default:n(()=>[b(E(e.$t("message.common.add")),1)]),_:1},8,["icon","onClick"]),a(c,{title:e.$t("message.common.delTip"),onConfirm:t[0]||(t[0]=i=>e.handleDel(e.chooseData))},{reference:n(()=>[a(d,{type:"danger",icon:e.Delete,disabled:e.chooseData.length===0},{default:n(()=>[...t[4]||(t[4]=[b("\u5C01\u5B58",-1)])]),_:1},8,["icon","disabled"])]),_:1},8,["title"])]),h("div",W,[a(D,{modelValue:e.query.input,"onUpdate:modelValue":t[1]||(t[1]=i=>e.query.input=i),placeholder:e.$t("message.common.searchTip"),onChange:t[2]||(t[2]=i=>e.getTableData(!0))},null,8,["modelValue","placeholder"]),a(p,{class:"layout-container-form-icon"},{default:n(()=>[a(v)]),_:1}),a(p,{class:"layout-container-form-icon"},{default:n(()=>[a(r)]),_:1}),a(p,{class:"layout-container-form-icon"},{default:n(()=>[a(m)]),_:1})])]),h("div",X,[U((A(),M(f,{ref:"table",page:e.page,"onUpdate:page":t[3]||(t[3]=i=>e.page=i),showIndex:!0,showSelection:!0,data:e.tableData,onGetTableData:e.getTableData,onSelectionChange:e.handleSelectionChange},{default:n(()=>[a(o,{prop:"number",label:"\u6863\u6848\u53F7",align:"center"}),a(o,{prop:"name",label:"\u59D3\u540D",align:"center"}),a(o,{prop:"radioName",label:"\u6027\u522B",align:"center"}),a(o,{prop:"radioName",label:"\u5E74\u9F84",align:"center"}),a(o,{prop:"radioName",label:"\u624B\u673A\u53F7",align:"center"}),a(o,{prop:"radioName",label:"\u76D1\u62A4\u4EBA",align:"center"}),a(o,{prop:"radioName",label:"\u76D1\u62A4\u4EBA\u7535\u8BDD",align:"center"}),a(o,{prop:"radioName",label:"\u72B6\u6001",align:"center"}),a(o,{label:e.$t("message.common.handle"),align:"center",fixed:"right",width:"200"},{default:n(i=>[a(d,{onClick:N=>e.handleEdit(i.row)},{default:n(()=>[...t[5]||(t[5]=[b("\u67E5\u770B",-1)])]),_:1},8,["onClick"]),a(d,{type:"warning",onClick:N=>e.handleEdit(i.row)},{default:n(()=>[b(E(e.$t("message.common.update")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["page","data","onGetTableData","onSelectionChange"])),[[C,e.loading]])])])}var ee=V(J,[["render",Y],["__scopeId","data-v-525ba18c"]]);export{ee as default};
